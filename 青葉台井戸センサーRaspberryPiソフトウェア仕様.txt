
【青葉台井戸水位取得用RaspberryPi側ソフトウェア仕様】

（１）データの取得方法
・水位データ
水位センサーからの出力をADコンバーターで受けて変換した値をサーバへ送信する。
水位センサーから出力される電圧は0~5V。（0~30m）
ADコンバータはMCP3208を使用。（12ビット）
基準電圧は５V。

・稼働状況
リレー接点からの配線をGPIOに入力。ON/OFFをサーバへ送信する。

・温度、湿度
HDC1000を使用して計測した値をサーバへ送信する。

（２）インターネット接続
・AK-020+SORACOM Airによる3Gモデムを使用する。

（３）データの送信インターバルは、サーバからの応答メッセージに含まれるint値により変更可能とする。(初期値：60 sec)
URL: https://nagaoka-satellite.com/awms/ajaxlib.php
       a: 稼働状況　0 / 1
       b: 水位　0～4095
       c: 気温
       d: 湿度


（４）データ取得、送信用のプログラムは、自動更新プログラムによりダウンロード、更新が可能。
・サーバに更新用pythonプログラムファイルを置いておきます。
・現在のものと内容に相違があれば新しくダウンロードしたファイルに置き換えて再起動します。
URL: https://nagaoka-satellite.com/awms/upload/ido.py

（５）プログラムファイル名
・ido.py データ取得、送信用プログラム
・program_updator.py 自動更新用プログラム
・起動時に自動実行されます。
